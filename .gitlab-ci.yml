# This file is a template, and might need editing before it works on your project.
# Full project: https://gitlab.com/pages/plain-html
pages:
  tags: 
  - shell
  - gitlab-pages
  stage: deploy
  before_script:
  - uname -a
  - whoami
  - echo 'export PATH=$HOME/local/bin:$PATH' >> ~/.bashrc
  - . ~/.bashrc
  - mkdir ~/local2 
  - mkdir ~/node-latest-install
  - cd ~/node-latest-install
  - curl http://nodejs.org/dist/node-latest.tar.gz | tar xz --strip-components=1
  - ./configure --prefix=~/local2
  - make install # ok, fine, this step probably takes more than 30 seconds...
  - curl https://www.npmjs.org/install.sh | sh
  # - yum install rh-nodejs8
  # - apt-get update -qq && apt-get install -y -qq node && apt-get install -y -qq npm
  script:
  - mkdir .public
  - jsdoc src/main/resources/static/wica/* -c /src/main/resources/static/wica/config.json -d .public
  #- cp -r docs/api-docs-js/wica/* .public
  - mv .public public
  artifacts:
    paths:
    - public
  only:
  - master
